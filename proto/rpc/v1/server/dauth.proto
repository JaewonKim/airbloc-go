syntax = "proto3";
package airbloc.rpc.v1;

option go_package = "github.com/airbloc/airbloc-go/proto/rpc/v1/server";

import "proto/rpc/v1/types.proto";

/**
 * DAuth (Data Collection Authentification) API.
 */
service DAuth {
    rpc SignIn(SignInRequest) returns (SignInResponse);
    rpc Allow(DAuthRequest) returns (airbloc.rpc.v1.Result)
    rpc Deny(DAuthRequest) returns (airbloc.rpc.v1.Result);
}

message SignInRequest {
    string identity = 1;
    bytes userDelegate = 2;
}

message SignInResponse {
    string accountId = 1;
}

message DAuthRequest {
    string collectionId = 1;
    string accountId = 2;
}
